# TASKS â€“ perf/render-target

- [SP-3] Generalize `RenderTarget` to accept any `std::io::Write` sink so the CLI can stream directly to stdout/tmux without copying.
- [SP-2] Remove the temporary `Vec<String>` compatibility shims once downstream callers migrate to the streaming API (RenderTarget::new/push_raw/len/as_str/into_lines, Body::render, Status::render).
- [SP-2] Clear compiler warnings introduced by the refactor (unused re-exports, helper methods, etc.).
- [SP-1] Add snapshot tests around `render_to_string` outputs to catch regressions in future optimizations.
- [SP-1] Extend the Criterion suite with a multi-box stress benchmark (simulate multiple panes) and compare against the saved `buffer-stream` baseline.


# PERFORMANCE TRACKER

- [SP-3] Prototype render buffer (`RenderTarget`) that implements `fmt::Write` and `io::Write` so full renders can stream into a single allocation.
- [SP-5] Migrate `Header`, `Body`, `Status`, and `Footer` to write into the shared buffer while keeping existing colour and padding rules intact.
- [SP-2] Provide an adapter that returns `Vec<String>` for callers/tests that still expect line-by-line output (until the wider API is updated).
- [SP-1] Extend the Criterion `render_full` bench to run pre/post snapshots and record deltas (store results in `target/criterion/render_full/report/`).
