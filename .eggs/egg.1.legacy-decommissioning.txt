================================================================================
 üêî CHINA'S LEGACY DECOMMISSIONING EGG #1 ü•ö
================================================================================

PHASE: CHINA-05A Phase 3 CLI Switchover
DATE: 2025-09-27
AGENT: China the Summary Chicken üêî

================================================================================
üìã EXECUTIVE SUMMARY
================================================================================
During the CHINA-05A Phase 3 CLI switchover, several legacy components have been
identified for decommissioning, consolidation, and migration to the new BoxBuilder
API system.

================================================================================
üïµÔ∏è LEGACY COMPONENTS IDENTIFIED
================================================================================
1. LEGACY DRAW FUNCTIONS
----------------------------
- Location: src/ref/draw.rs.backup, src/ref/draw.rs.v090
- Primary Function: draw_box()
- Identified Issues:
  * Multiple backup versions exist
  * Likely replaced by new BoxyConfig-based approach
  * 28-parameter function complexity indicates need for refactoring

2. ACTIVE CLI ENTRYPOINT (PENDING MIGRATION)
--------------------------------------------
- Location: src/main.rs (current CLI implementation)
- Notes:
  * Still constructs `BoxyConfig` and calls legacy `draw_box`
  * Remains primary CLI path until CHINA-05A Phase 3 completes
  * Decommission once CLI swaps to API adapter

3. ACTIVE THEME ENGINE (KEEP UNTIL CLI MIGRATES)
-----------------------------------------------
- Location:
  * src/plugins/theme_engine.rs
  * src/plugins/themes/*
- Status:
  * Required by current CLI; NOT slated for immediate removal
  * Legacy backups (src/ref/bak/themes.rs.backup) can be archived once CLI migration finishes
  * Plan consolidation after CLI switches to API renderer

4. BACKUP CONFIGURATION FILES
-----------------------------
- Locations:
  * src/ref/bak/config.rs.backup
  * src/ref/bak/colors.rs.backup
- Notes:
  * Likely obsolete configuration management
  * Should be compared with current implementation
  * Potential source of migration insights

================================================================================
üßπ CLEANUP OPPORTUNITIES
================================================================================
1. REDUNDANT FILES TO REMOVE
----------------------------
- All files in src/ref/bak/ directory
- Specific backup files:
  * draw.rs.backup
  * draw.rs.v090
  * colors.rs.backup
  * components.rs.backup
  * help.rs.backup
  * parser.rs.backup

2. CONSOLIDATION TARGETS
------------------------
- Post-migration goal: fold remaining theme logic into a single engine
- Current action: leave `src/plugins/themes/*` untouched until CLI migration
- Backups (`src/ref/bak/themes.rs.backup`) remain archival references for now

3. DEAD CODE INDICATORS
----------------------
- Backup files with .backup extension
- Version-specific files (e.g., draw.rs.v090)
- Commented-out legacy function implementations

================================================================================
üöÄ MIGRATION MAPPING
================================================================================
1. DRAW FUNCTIONS
-----------------
- Legacy: `src/main.rs` + `draw_box` pipeline
- New: BoxLayout adapter (`src/api/config.rs`) + BoxBuilder API
- Migration Strategy:
  * Switch CLI to use `BoxLayout::from(&BoxyConfig)` + API renderers
  * After switchover, retire `draw_box` and the 28-parameter flow

2. THEME SYSTEM
---------------
- Current engine (src/plugins/theme_engine.rs) stays active until CLI migration
- Legacy backups in `src/ref/bak/themes.rs.backup` can be removed post-migration
- Future step: evaluate consolidation once CLI no longer depends on old paths

3. ARGUMENT PROCESSING
----------------------
- Old: Manual parsing in backup parser
- New: Robust CLI argument handling
- Migration Strategy:
  * Replace with modern argument parsing library
  * Remove legacy parsing logic
  * Ensure feature parity

================================================================================
‚ö†Ô∏è DISCLAIMER
================================================================================
This document represents a snapshot of legacy code at the time of analysis.
Actual implementation may require further investigation and validation.

All recommendations should be reviewed by the development team before
implementation.

================================================================================
üêî CHINA'S CLUCK OF APPROVAL ü•ö
Egg-cellent migration planning completed! Remember to hatch this egg carefully!
===============================================================================
